<!DOCTYPE html>  <html> <head>   <title>001_prototypal-inheritance.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="001_prototypal-inheritance.html">                 001_prototypal-inheritance.js               </a>                                           <a class="source" href="002_extending-prototypes.html">                 002_extending-prototypes.js               </a>                                           <a class="source" href="003_chaining.html">                 003_chaining.js               </a>                                           <a class="source" href="004_patterns-singelton.html">                 004_patterns-singelton.js               </a>                                           <a class="source" href="005_patterns-namespace.html">                 005_patterns-namespace.js               </a>                                           <a class="source" href="006_patterns-module.html">                 006_patterns-module.js               </a>                                           <a class="source" href="007_patterns-decorator.html">                 007_patterns-decorator.js               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               001_prototypal-inheritance.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <h1>Source Code</h1>

<ul>
<li><a href="https://github.com/mcgaryes/crumblies/blob/master/js101/lessons/001_prototypal-inheritance.js">GitHub</a></li>
<li><a href="http://jsbin.com/acuxef/2/edit">JSBin</a></li>
</ul>

<h1>Overview</h1>

<p>JavaScript uses prototypes instead of classes for inheritance. It is possible to simulate many class-based features with prototypes in JavaScript. </p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>Functions double as object constructors along with their typical role. Prefixing a function call with <code>new</code> creates a new object and makes available any proertys on the constructors prototype object.</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>In this lesson we're going to look at an example, however contrived, of the constructor/prototype relationship in order to better understand how inheritence works with multiple instances of a prototype.</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <h1>Lesson</h1>             </td>             <td class="code">               <div class="highlight"><pre><span class="s2">&quot;use strict&quot;</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>Like stated above, constructors (functions) and be associated with a object. Here we create our <code>Vehicle</code> constructor and give it a single argument of <code>attributes</code>. Depending on how many arguments you think you'll pass when instantiating a <code>Vehicle</code> object you can reference as many arguments as you'd like here. I find that having a single argument of type <code>Object</code> is easier to read and more flexible later if you decide that you need to pass another object to the Constructor.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">Vehicle</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">attributes</span><span class="p">){</span>
  </pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>When we use the keyword <code>this</code> from within a constructor, the <code>this</code> is a reference to the instance that we are creating. Here we are saying that the instance we are creating is of type <strong>Vehicle</strong>.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s2">&quot;Vehicle&quot;</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>Here we will be applying all of the passed attributes to the Vehicle instance. If there were attributes passed and the attributes object has a property <code>color</code> available on it then we are going to set the instances <code>color</code> to the passed <code>color</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="k">if</span><span class="p">(</span><span class="nx">attributes</span> <span class="o">&amp;&amp;</span> <span class="nx">attributes</span><span class="p">.</span><span class="nx">color</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">color</span> <span class="o">=</span> <span class="nx">attributes</span><span class="p">.</span><span class="nx">color</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>Every constructor has a prototype assigned to it whether you specifically set it or not. Take for example the function <code>var F = function(){};</code>. Even though we dont specifically set <code>F</code>'s prototype object, an empty one is still written for it. </p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>A constructor's prototype is simply a JavaScript <code>Object</code>. This object however is differnt in the sense that when assigned to a constructor is is by default available to any instances created with a <code>new</code> function call.</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p>For the <code>Vehicle</code>'s constructor however we have some very specific functionality that we what each instance to have. Each vehicle should be able to <code>startUp</code>, <code>drive</code> and <code>shutDown</code>. </p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">Vehicle</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">color</span><span class="o">:</span><span class="s2">&quot;none&quot;</span><span class="p">,</span>
  <span class="nx">startUp</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span></pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>One thing to note here is the use of the <code>this</code> keyword. You may be thinking that using <code>this</code> here would be in reference to the <code>Vehicle.prototype</code> object, and this would be correct. However after you create an instance of <code>Vehicle</code> and call the <code>startUp</code> method on it, the <code>this</code> keyword would be in reference to the instance and not the <code>Vehicle.prototype</code> anymore. </p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Starting the &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">color</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">+</span> <span class="s2">&quot; up...&quot;</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="nx">drive</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">distance</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Driving the &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">color</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">+</span> <span class="s2">&quot; for &quot;</span> <span class="o">+</span> <span class="nx">distance</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="nx">shutDown</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Shutting the &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">color</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">+</span> <span class="s2">&quot; down...&quot;</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>So now that we have both a constructor and an associated prototype for that constructor we can begin to create new instances containing its default functionality.</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p>Here we are going to create an instance of a <code>Vehicle</code> and make its color red. Because we used the <code>new</code> keyword and we associated a prototype object wit <code>Vehicle</code> any methods we wrote there will now be available to our new instance. Notice that now any reference to <code>this.color</code> within <code>Vehicle.prototype</code> will now return <em>red</em>.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">vehicle</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vehicle</span><span class="p">({</span> 
  <span class="nx">color</span><span class="o">:</span><span class="s2">&quot;red&quot;</span> 
<span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>logs out <em>Starting the red Vehicle up...</em></p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">vehicle</span><span class="p">.</span><span class="nx">startUp</span><span class="p">();</span></pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p>logs out <em>Driving the red Vehicle for 100...</em></p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">vehicle</span><span class="p">.</span><span class="nx">drive</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <p>logs out <em>Shutting the red Vehicle down...</em></p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">vehicle</span><span class="p">.</span><span class="nx">shutDown</span><span class="p">();</span></pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <p>And to illustrate that every instance created with the Vehicle constructor can have its own implementation of its attributes we'll create a second instance. However here we will assign the vehicle's color to blue. This is an important thing to understand. Even though the <code>Vehicle.prototype</code>'s <code>startUp</code>, <code>drive</code> and <code>shutDown</code> reference this.color, each instance has assigned its own color...</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">vehicle2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vehicle</span><span class="p">({</span> 
  <span class="nx">color</span><span class="o">:</span><span class="s2">&quot;blue&quot;</span> 
<span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <p>logs out <em>Starting the blue Vehicle up...</em></p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">vehicle</span><span class="p">.</span><span class="nx">startUp</span><span class="p">();</span></pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <p>logs out <em>Driving the blue Vehicle for 50...</em></p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">vehicle</span><span class="p">.</span><span class="nx">drive</span><span class="p">(</span><span class="mi">50</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-20">&#182;</a>               </div>               <p>logs out <em>Shutting the blue Vehicle down...</em></p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">vehicle</span><span class="p">.</span><span class="nx">shutDown</span><span class="p">();</span></pre></div>             </td>           </tr>                               <tr id="section-21">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-21">&#182;</a>               </div>               <p>... if you were not to assign any color when creating an instance of Vehicle then any reference to <code>this.color</code> from within any of the <code>Vehicle.prototype</code> methods would return the prototypes value for color. In this example that would be a value of <code>none</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">vehicle3</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vehicle</span><span class="p">();</span></pre></div>             </td>           </tr>                               <tr id="section-22">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-22">&#182;</a>               </div>               <p>logs out <em>none</em></p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">vehicle3</span><span class="p">.</span><span class="nx">color</span><span class="p">);</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 